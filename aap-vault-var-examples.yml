---
- name: "INFO: Prueba de variables encriptadas mediante vault"
  hosts: localhost
  vars:
     variable1: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62653264383538643730316363633366666239333534666435633730666362393138643666646164
          3137333933663032343230313366633162373463353661630a373933333738656137373232353162
          33353364353666313562636535313737326563333439313839346261373039623731313139613365
          6664643638633637330a356661383432393830653433613365636333303136613231396336626539
          32616261343233373162663466323734333263613431366263386633363336623631
     variable2: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34653234376164313766393936376464346537643034636266353339366339303430383564366462
          3131663739633832646338363661376632636236643137330a656135353732633734313962653764
          34343338643032616461396165646233623637376432646431323863326234623733663838393732
          3162396462356630660a616338386362383931643034393262376330306332353636356131656331
          61393966366466306366313339653337316633323534613334343266313762653761

  pre_tasks:

  - assert:
      that:
        - variable1 is defined and variable1 != ""
        - variable2 is defined and variable2 != ""

  tasks:

  - name: "show variable1 unencrypted (same pass)"
    ansible.builtin.debug:
      msg: "VAR 'variable1' DECODED => '{{ variable1 }}'"

  - name: "show variable2 unencrypted (same pass)"
    ansible.builtin.debug:
      msg: "VAR 'variable2' DECODED => '{{ variable2 }}'"
